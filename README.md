AWS VPC Terraform module
========================

Terraform [AWS VPC](https://docs.aws.amazon.com/vpc/latest/userguide/what-is-amazon-vpc.html).

Providers
---------

* [hashicorp/aws](https://registry.terraform.io/providers/hashicorp/aws/latest/docs)

Variables
---------

### Tags

Tags are defined as separated lists, not as map, because maps are automatically sorted.
Lists keep order so they can be used to autogenerate object's name, based on `names_keys`.

<table>
 <tr><th>Name</th><th>Description</th><th>Type</th><th>Default</th></tr>
 <tr>
  <td>name</td>
  <td>Resource name.</td>
  <td>

  `string`

  </td>
  <td>
  
  `null`

  </td>
 </tr>
 <tr>
  <td>separator</td>
  <td>Single character to separate segments in object's name.</td>
  <td>

  `string`

  </td>
  <td>
  
  `.`

  </td>
 </tr>
 <tr>
  <td>tags</td>
  <td>Map of tags to be used instead of the ones composed automatically.</td>
  <td>

  `maps(string)`

  </td>
  <td>
  
  `{}`

  </td>
 </tr>
 <tr>
  <td>tags_keys</td>
  <td>List of tags keys.</td>
  <td>

  `list(string)`

  </td>
  <td>
  
  ```yaml
  [
    "environment",
    "vendor",
    "product",
  ]
  ```

  </td>
 </tr>
 <tr>
  <td>tags_values</td>
  <td>List of tags values.</td>
  <td>

  `list(string)`

  </td>
  <td>
  
  ```yaml
  [
    "",
    "",
    "",
  ]
  ```

  </td>
 </tr>
 <tr>
  <td>names_keys</td>
  <td>List of tags keys to be used for autogenerated object's name.</td>
  <td>

  `list(string)`

  </td>
  <td>
  
  ```yaml
  [
    "environment",
    "vendor",
    "product",
  ]
  ```

  </td>
 </tr>
</table>

### VPC

| Name | Description | Type | Default |
|------|-------------|------|---------|
| `cidr_block` | The IPv4 CIDR block for the VPC. | `string` | `null` |
| `instance_tenancy` | A tenancy option for instances launched into the VPC. | `string` | `null` |
| `ipv4_ipam_pool_id` | The ID of an IPv4 IPAM pool you want to use for allocating this VPC's CIDR. | `string` | `null` |
| `ipv4_netmask_length` | The netmask length of the IPv4 CIDR you want to allocate to this VPC. | `string` | `null` |
| `ipv6_cidr_block` | IPv6 CIDR block to request from an IPAM Pool. | `string` | `null` |
| `ipv6_ipam_pool_id` | IPAM Pool ID for a IPv6 pool. | `string` | `null` |
| `ipv6_netmask_length` | Netmask length to request from IPAM Pool. | `number` | `null` |
| `ipv6_cidr_block_network_border_group` | By default when an IPv6 CIDR is assigned to a VPC a default ipv6_cidr_block_network_border_group will be set to the region of the VPC. | `string` | `null` |
| `enable_dns_support` | A boolean flag to enable/disable DNS support in the VPC. | `bool` | `null` |
| `enable_network_address_usage_metrics` | Indicates whether Network Address Usage metrics are enabled for your VPC. | `bool` | `null` |
| `enable_dns_hostnames` | A boolean flag to enable/disable DNS hostnames in the VPC. | `bool` | `null` |
| `assign_generated_ipv6_cidr_block` | Requests an Amazon-provided IPv6 CIDR block with a /56 prefix length for the VPC. | `bool` | `null` |

### Internet gateway

| Name | Description | Type | Default |
|------|-------------|------|---------|
| `internet_gateway` | Map of tags, create internet gateway if not null. | `map(string)` | `null` |

### peering_connection

| Name | Description | Type | Default |
|------|-------------|------|---------|
| `peering_connections` | List of VPC peering connections. | `list(object)` | `[{ peer_vpc_id = null }]` |
| `peering_connections.auto_accept` | Accept the peering (both VPCs need to be in the same AWS account and region). | `optional(bool)` | |
| `peering_connections.peer_owner_id` | The AWS account ID of the owner of the peer VPC. | `optional(string)` | |
| `peering_connections.peer_region` | The region of the accepter VPC of the VPC Peering Connection. | `optional(string)` | |
| `peering_connections.peer_vpc_id` | The ID of the VPC with which you are creating the VPC Peering Connection. | `string` | `null` |
| `peering_connections.accepter` |  | `optional(object)` | |
| `peering_connections.accepter.allow_remote_vpc_dns_resolution` |  | `optional(bool)` | |
| `peering_connections.requester` |  | `optional(object)` | |
| `peering_connections.requester.allow_remote_vpc_dns_resolution` |  | `optional(bool)` | |
| `tags` | Map of tag keys and values. | `optional(map(string))` | |

### route_tables

| Name | Description | Type | Default |
|------|-------------|------|---------|
| `name` | Route table name. | `optional(string)` | |
| `default` | Whether to manage default route table. | `bool` | `false` |
| `propagating_vgws` | A list of virtual gateways for propagation. | `optional(list(string))` | |
| `routes` | List of VPC routing table routes. | `list(object)` | `null` |
| `routes.destination_ipv6_cidr_block` | The destination IPv6 CIDR block. | `optional(string)` | |
| `routes.destination_prefix_list_id` | The ID of a managed prefix list destination. | `optional(string)` | |
| `routes.carrier_gateway_id` | Identifier of a carrier gateway. | `optional(string)` | |
| `routes.core_network_arn` | The Amazon Resource Name (ARN) of a core network. | `optional(string)` | |
| `routes.egress_only_gateway_id` | Identifier of a VPC Egress Only Internet Gateway. | `optional(string)` | |
| `routes.gateway_id` | Identifier of a VPC internet gateway or a virtual private gateway. | `optional(string)` | |
| `routes.nat_gateway_id` | Identifier of a VPC NAT gateway. | `optional(string)` | |
| `routes.local_gateway_id` | Identifier of a Outpost local gateway. | `optional(string)` | |
| `routes.network_interface_id` | Identifier of an EC2 network interface. | `optional(string)` | |
| `routes.transit_gateway_id` | Identifier of an EC2 Transit Gateway. | `optional(string)` | |
| `routes.vpc_endpoint_id` | Identifier of a VPC Endpoint. | `optional(string)` | |
| `routes.vpc_peering_connection_id` | Identifier of a VPC peering connection. | `optional(string)` | |
| `tags` | Map of tag keys and values. | `optional(map(string))` | |

Outputs
-------

| Name | Description | Type |
|------|-------------|------|
| `id` | VPC id | `string` |

License
-------

[GPL-3.0](https://www.gnu.org/licenses/gpl-3.0.html)

Author Information
------------------

[mario.slowinski@gmail.com](mailto:mario.slowinski@gmail.com)
